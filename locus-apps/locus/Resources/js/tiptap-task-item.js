/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/@tiptap/extension-task-item@2.0.0-beta.220/dist/index.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@tiptap/core")):"function"==typeof define&&define.amd?define(["exports","@tiptap/core"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@tiptap/extension-task-item"]={},e.core)}(this,(function(e,t){"use strict";const n=/^\s*(\[([( |x])?\])\s$/,d=t.Node.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{}}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:e=>"true"===e.getAttribute("data-checked"),renderHTML:e=>({"data-checked":e.checked})}}),parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:n}){return["li",t.mergeAttributes(this.options.HTMLAttributes,n,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:d})=>{const i=document.createElement("li"),c=document.createElement("label"),s=document.createElement("span"),r=document.createElement("input"),a=document.createElement("div");return c.contentEditable="false",r.type="checkbox",r.addEventListener("change",(t=>{if(!d.isEditable&&!this.options.onReadOnlyChecked)return void(r.checked=!r.checked);const{checked:i}=t.target;d.isEditable&&"function"==typeof n&&d.chain().focus(void 0,{scrollIntoView:!1}).command((({tr:e})=>{const t=n(),d=e.doc.nodeAt(t);return e.setNodeMarkup(t,void 0,{...null==d?void 0:d.attrs,checked:i}),!0})).run(),!d.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,i)||(r.checked=!r.checked))})),Object.entries(this.options.HTMLAttributes).forEach((([e,t])=>{i.setAttribute(e,t)})),i.dataset.checked=e.attrs.checked,e.attrs.checked&&r.setAttribute("checked","checked"),c.append(r,s),i.append(c,a),Object.entries(t).forEach((([e,t])=>{i.setAttribute(e,t)})),{dom:i,contentDOM:a,update:e=>e.type===this.type&&(i.dataset.checked=e.attrs.checked,e.attrs.checked?r.setAttribute("checked","checked"):r.removeAttribute("checked"),!0)}}},addInputRules(){return[t.wrappingInputRule({find:n,type:this.type,getAttributes:e=>({checked:"x"===e[e.length-1]})})]}});e.TaskItem=d,e.default=d,e.inputRegex=n,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=/sm/8fb6eabd7bc008b02471b33552fe6e2c3ecaad57061fc7ff6312f6673cd2bad1.map