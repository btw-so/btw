/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/@tiptap/extension-character-count@2.0.0-beta.220/dist/index.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@tiptap/core"),require("@tiptap/pm/state")):"function"==typeof define&&define.amd?define(["exports","@tiptap/core","@tiptap/pm/state"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@tiptap/extension-character-count"]={},e.core,e.state)}(this,(function(e,t,o){"use strict";const n=t.Extension.create({name:"characterCount",addOptions:()=>({limit:null,mode:"textSize"}),addStorage:()=>({characters:()=>0,words:()=>0}),onBeforeCreate(){this.storage.characters=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc;if("textSize"===((null==e?void 0:e.mode)||this.options.mode)){return t.textBetween(0,t.content.size,void 0," ").length}return t.nodeSize},this.storage.words=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc;return t.textBetween(0,t.content.size," "," ").split(" ").filter((e=>""!==e)).length}},addProseMirrorPlugins(){return[new o.Plugin({key:new o.PluginKey("characterCount"),filterTransaction:(e,t)=>{const o=this.options.limit;if(!e.docChanged||0===o||null==o)return!0;const n=this.storage.characters({node:t.doc}),r=this.storage.characters({node:e.doc});if(r<=o)return!0;if(n>o&&r>o&&r<=n)return!0;if(n>o&&r>o&&r>n)return!1;if(!e.getMeta("paste"))return!1;const i=e.selection.$head.pos,s=i-(r-o),a=i;e.deleteRange(s,a);return!(this.storage.characters({node:e.doc})>o)}})]}});e.CharacterCount=n,e.default=n,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=/sm/6c099e765bdf568bf1fbabed9aac28ded5a72fbebfb55f88cf0571b20a5f9c30.map