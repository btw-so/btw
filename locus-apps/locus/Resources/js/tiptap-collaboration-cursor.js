/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/@tiptap/extension-collaboration-cursor@2.0.0-beta.220/dist/index.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@tiptap/core"),require("y-prosemirror")):"function"==typeof define&&define.amd?define(["exports","@tiptap/core","y-prosemirror"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self)["@tiptap/extension-collaboration-cursor"]={},e.core,e.yProsemirror)}(this,(function(e,r,o){"use strict";const t=e=>Array.from(e.entries()).map((([e,r])=>({clientId:e,...r.user}))),s=()=>null,a=r.Extension.create({name:"collaborationCursor",addOptions:()=>({provider:null,user:{name:null,color:null},render:e=>{const r=document.createElement("span");r.classList.add("collaboration-cursor__caret"),r.setAttribute("style",`border-color: ${e.color}`);const o=document.createElement("div");return o.classList.add("collaboration-cursor__label"),o.setAttribute("style",`background-color: ${e.color}`),o.insertBefore(document.createTextNode(e.name),null),r.insertBefore(o,null),r},onUpdate:s}),onCreate(){this.options.onUpdate!==s&&console.warn('[tiptap warn]: DEPRECATED: The "onUpdate" option is deprecated. Please use `editor.storage.collaborationCursor.users` instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor')},addStorage:()=>({users:[]}),addCommands(){return{updateUser:e=>()=>(this.options.user=e,this.options.provider.awareness.setLocalStateField("user",this.options.user),!0),user:e=>({editor:r})=>(console.warn('[tiptap warn]: DEPRECATED: The "user" command is deprecated. Please use "updateUser" instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor'),r.commands.updateUser(e))}},addProseMirrorPlugins(){return[o.yCursorPlugin((()=>(this.options.provider.awareness.setLocalStateField("user",this.options.user),this.storage.users=t(this.options.provider.awareness.states),this.options.provider.awareness.on("update",(()=>{this.storage.users=t(this.options.provider.awareness.states)})),this.options.provider.awareness))(),{cursorBuilder:this.options.render})]}});e.CollaborationCursor=a,e.default=a,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=/sm/4d11eb2619b0885ecb451b23ede7577e72d5c2f642fefcaa9604f307bc4239e7.map